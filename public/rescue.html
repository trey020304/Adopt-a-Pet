<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="pragma" content="no-cache" />
  <meta http-equiv="expires" content="0" />
  <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon" />
  <link rel="apple-touch-icon" href="img/apple-touch-icon.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-114x114.png" />

  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  <link rel="stylesheet" type="text/css" href="fonts/font-awesome/css/font-awesome.css" />
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <link rel="stylesheet" type="text/css" href="css/nivo-lightbox/nivo-lightbox.css" />
  <link rel="stylesheet" type="text/css" href="css/nivo-lightbox/default.css" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,700,800,900" rel="stylesheet" />
  <title>Rescue Request Form â€” Adopt a Pet</title>
  <style>
    body { background: #f7f6f4; }
    header .container { padding-top: 40px; padding-bottom: 60px; }
    .rescue-form { max-width: 780px; margin: 0 auto; background: #fff; padding: 28px; border-radius: 8px; box-shadow: 0 8px 30px rgba(0,0,0,0.06); }
    .rescue-form h2 { font-weight:700; margin-bottom:12px; }
    .rescue-form fieldset { border: none; margin: 18px 0; padding: 0; }
    .rescue-form legend { font-weight:700; margin-bottom:8px; color:#333; }
    .rescue-form label { display:block; margin-bottom:6px; font-size:14px; color:#444; }
    .rescue-form .form-control { margin-bottom:12px; border-radius:6px; border:1px solid #ddd; padding:10px 12px; box-sizing: border-box; }
    /* Ensure select fields are tall enough and text isn't clipped */
    .rescue-form select.form-control,
    .rescue-form input.form-control {
      height:44px;
      line-height:20px;
      padding:10px 12px;
      box-sizing: border-box;
    }
    /* For small inputs (like estimated age) allow auto height but keep clear text */
    .rescue-form input[placeholder],
    .rescue-form input[type="text"],
    .rescue-form input[type="email"],
    .rescue-form input[type="tel"] {
      height:44px;
      line-height:20px;
    }
    .rescue-form .checkbox-grid { display:grid; grid-template-columns: repeat(2, 1fr); gap:8px; }
    .rescue-form .checkbox-grid label { display:flex; gap:8px; align-items:center; background:#fbfbfb; padding:8px; border-radius:6px; border:1px solid #eee; }
    .rescue-form .btn-row { display:flex; gap:12px; justify-content:flex-end; margin-top:16px; }
    .btn-custom { background:#8a5036; color:#fff; padding:10px 20px; border-radius:24px; border:none; }
    .btn-back { background:transparent; border:2px solid #8a5036; color:#8a5036; padding:8px 18px; border-radius:24px; }
    #preview img { max-width: 120px; border-radius:6px; display:block; }
  </style>
</head>
<body>
  <!-- Navigation (Logo Only) -->
  <nav id="menu" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand page-scroll" href="index.html">
          <img src="img/nav-logo.png" alt="logo" class="navbar-logo" /> Adopt a Pet
        </a>
      </div>
    </div>
  </nav>

  <header id="header" style="padding-top:100px;">
    <div class="container">
      <div class="rescue-form">
        <h2>RESCUE REQUEST FORM</h2>
        <p style="color:#666; margin-bottom:18px;">Fields marked with * are required. You will be asked to confirm before the request is finalized.</p>
        <form id="rescueForm">
          <fieldset>
            <legend>1. Reporter Information</legend>
            <label>Full Name *</label>
            <input name="reporter_full_name" class="form-control" required />

            <div style="display:flex; gap:12px;">
              <div style="flex:1;">
                <label>Phone Number *</label>
                <input name="reporter_phone" class="form-control" required />
              </div>
              <div style="flex:1;">
                <label>Email Address *</label>
                <input name="reporter_email" type="email" class="form-control" required />
              </div>
            </div>

            <div style="display:flex; gap:12px;">
              <div style="flex:1;">
                <label>Preferred Contact Method *</label>
                <select name="preferred_contact_method" class="form-control" required>
                  <option value="">Select</option>
                  <option value="Call">Call</option>
                  <option value="SMS">SMS</option>
                  <option value="Email">Email</option>
                </select>
              </div>
              <div style="flex:1;">
                <label>Relationship to animal *</label>
                <select name="relationship_to_animal" class="form-control" required>
                  <option value="">Select</option>
                  <option value="Owner">Owner</option>
                  <option value="Finder">Finder</option>
                  <option value="Witness">Witness</option>
                  <option value="Stray spotted">Stray spotted</option>
                  <option value="Surrendering pet">Surrendering pet</option>
                </select>
              </div>
            </div>
          </fieldset>

          <fieldset>
            <legend>2. Animal Information</legend>
            <div style="display:flex; gap:12px;">
              <div style="flex:1;">
                <label>Animal Type *</label>
                <select name="animal_type" class="form-control" required>
                  <option value="">Select</option>
                  <option value="Dog">Dog</option>
                  <option value="Cat">Cat</option>
                  <option value="Other">Other</option>
                </select>
              </div>
              <div style="width:160px;">
                <label>Estimated Age</label>
                <input name="estimated_age" class="form-control" placeholder="e.g. 2 yrs or approx" />
              </div>
            </div>

            <div style="display:flex; gap:12px; margin-top:8px;">
              <div style="flex:1;">
                <label>Size</label>
                <select name="size" class="form-control">
                  <option value="">Select</option>
                  <option value="Small">Small</option>
                  <option value="Medium">Medium</option>
                  <option value="Large">Large</option>
                </select>
              </div>
              <div style="flex:1;">
                <label>Sex</label>
                <select name="sex" class="form-control">
                  <option value="">Select</option>
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                  <option value="Unknown">Unknown</option>
                </select>
              </div>
            </div>

            <label style="margin-top:8px;">Breed (if known)</label>
            <input name="breed" class="form-control" />
          </fieldset>

          <fieldset>
            <legend>3. Location Details</legend>
            <label>Exact Location *</label>
            <input name="location_details" class="form-control" required />

            <div style="display:flex; gap:12px; margin-top:8px;">
              <div style="flex:1;">
                <label>Is the animal still at the location?</label>
                <select name="animal_still_at_location" class="form-control">
                  <option value="">Select</option>
                  <option value="Yes">Yes</option>
                  <option value="No">No</option>
                  <option value="Unsure">Unsure</option>
                </select>
              </div>
              <div style="flex:1;">
                <label>Safe access to location?</label>
                <select name="safe_access" class="form-control">
                  <option value="">Select</option>
                  <option value="Open area">Open area</option>
                  <option value="Inside a building">Inside a building</option>
                  <option value="Roadside">Roadside</option>
                  <option value="Difficult terrain">Difficult terrain</option>
                </select>
              </div>
            </div>
          </fieldset>

          <fieldset>
            <legend>4. Condition & Urgency</legend>
            <label>Health Condition (check all that apply)</label>
            <div class="checkbox-grid" style="margin-top:8px;">
              <label><input type="checkbox" name="health_condition" value="Injured" /> Injured</label>
              <label><input type="checkbox" name="health_condition" value="Sick" /> Sick</label>
              <label><input type="checkbox" name="health_condition" value="Malnourished" /> Malnourished</label>
              <label><input type="checkbox" name="health_condition" value="Weak" /> Weak</label>
              <label><input type="checkbox" name="health_condition" value="Bleeding" /> Bleeding</label>
              <label><input type="checkbox" name="health_condition" value="Difficulty walking" /> Difficulty walking</label>
              <label><input type="checkbox" name="health_condition" value="Trapped" /> Trapped</label>
              <label><input type="checkbox" name="health_condition" value="Pregnant" /> Pregnant</label>
            </div>

            <label style="margin-top:12px;">Behavior Condition (check all that apply)</label>
            <div class="checkbox-grid" style="margin-top:8px;">
              <label><input type="checkbox" name="behavior_condition" value="Friendly" /> Friendly</label>
              <label><input type="checkbox" name="behavior_condition" value="Scared" /> Scared</label>
              <label><input type="checkbox" name="behavior_condition" value="Aggressive" /> Aggressive</label>
              <label><input type="checkbox" name="behavior_condition" value="Cannot move" /> Cannot move</label>
              <label><input type="checkbox" name="behavior_condition" value="Hiding" /> Hiding</label>
              <label><input type="checkbox" name="behavior_condition" value="Approaches people" /> Approaches people</label>
            </div>

            <label style="margin-top:12px;">Urgency Level *</label>
            <select name="urgency_level" class="form-control" required>
              <option value="">Select</option>
              <option value="Emergency">Emergency (Life-threatening)</option>
              <option value="High Priority">High Priority (Injured or unsafe environment)</option>
              <option value="Moderate">Moderate (Stay in need of shelter)</option>
              <option value="Low">Low (Monitoring / Non-urgent rescue)</option>
            </select>
          </fieldset>

          <fieldset>
            <legend>5. Evidence Upload (Optional)</legend>
            <label for="evidence">Photo or short video</label>
            <input id="evidence" type="file" name="evidence" class="form-control" accept="image/*,video/*" multiple />
            <small style="display:block; margin-top:6px; color:#666;">You can upload up to 4 files (images or short videos).</small>
            <div id="preview" style="margin-top:10px; display:flex; flex-wrap:wrap; gap:8px;"></div>
          </fieldset>

          <div class="btn-row">
            <button type="button" class="btn-back" onclick="window.history.back();">BACK</button>
            <button type="submit" class="btn-custom">SUBMIT REQUEST</button>
          </div>
        </form>
      </div>
    </div>
  </header>

  <script type="text/javascript" src="js/jquery.1.11.1.js"></script>
  <script type="text/javascript" src="js/bootstrap.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
  <script type="text/javascript" src="js/supabase-init.js"></script>
  <script type="text/javascript" src="js/storage-upload.js"></script>
  <script type="text/javascript" src="js/rescue-form-logic.js"></script>
</body>
</html>
